%! TeX root = main.tex
\documentclass[fontsize=12pt,a4paper,oneside,DIV=calc,chapterprefix=true]{scrbook}
\KOMAoptions{open=any}

% ----------------------------------------------------
% ENCODING & LANGUAGE (Load early)
% ----------------------------------------------------
\usepackage[utf8]{inputenc} % Safe for pdflatex (ignored by lualatex/xelatex)
\usepackage[T5]{fontenc}    % Vietnamese encoding
\usepackage[vietnamese]{babel}

% ----------------------------------------------------
% PAGE GEOMETRY & INDENTATION
% ----------------------------------------------------
\usepackage[
  left=3cm, right=2cm, top=2.5cm, bottom=2.5cm,
  paper=a4paper
]{geometry}

\usepackage{fancyhdr} % <-- Add this line
\usepackage{indentfirst} % Indent first paragraph of sections
\setlength{\parindent}{1cm}

% ----------------------------------------------------
% FONT & MATH PACKAGES
% ----------------------------------------------------
\usepackage{amsmath, amsthm, bm}   % Load AMS math + theorem before newtxmath
\usepackage{newtxtext,newtxmath}   % Times font + math (includes amssymb)


% ----------------------------------------------------
% GRAPHICS, TABLES, FIGURES
% ----------------------------------------------------
\usepackage{graphicx}
\usepackage{float}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{adjustbox, tabularx, array, booktabs, multirow}
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
\usepackage{wrapfig}
\usepackage{lscape}

% ----------------------------------------------------
% TABLE OF CONTENTS (TOC)
% ----------------------------------------------------
\usepackage{tocloft}
\renewcommand{\cfttoctitlefont}{\rmfamily\bfseries\huge}
\renewcommand{\cftbeforetoctitleskip}{-0.5em}
\renewcommand{\contentsname}{\normalfont\bfseries MỤC LỤC}
\renewcommand{\cftchapfont}{\rmfamily\bfseries}
\renewcommand{\cftsecfont}{\rmfamily}
\renewcommand{\cftsubsecfont}{\rmfamily}
\renewcommand{\cftsubsubsecfont}{\rmfamily}

% ----------------------------------------------------
% ENUMERATIONS
% ----------------------------------------------------
\usepackage{enumitem}

% ----------------------------------------------------
% ALGORITHMS (avoid conflict between algorithmic & algorithmicx)
% ----------------------------------------------------
% Use one consistent pair: 'algorithm' + 'algpseudocode'
\usepackage{algorithm}
\usepackage{algpseudocode}


% ----------------------------------------------------
% PLOTS
% ----------------------------------------------------
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

% ----------------------------------------------------
% HYPERLINKS & REFERENCES (must be loaded last!)
% ----------------------------------------------------
\usepackage[
  colorlinks=true,
  linkcolor=black,
  urlcolor=blue,
  citecolor=blue
]{hyperref}
\usepackage{cleveref}

% ----------------------------------------------------
% THEOREM ENVIRONMENTS
% ----------------------------------------------------
\theoremstyle{plain}
\newtheorem{theorem}{Định lý}[section]
\newtheorem{corollary}{Hệ quả}[section]

\theoremstyle{definition}
\newtheorem{definition}{Định nghĩa}[section]
\newtheorem{example}{Ví dụ}[section]

\theoremstyle{remark}
\newtheorem{remark}{Nhận xét}

% ----------------------------------------------------
% FONT STYLING FOR KOMA CHAPTERS & SECTIONS
% ----------------------------------------------------
\addtokomafont{chapter}{\rmfamily\bfseries}
\addtokomafont{section}{\rmfamily\bfseries}
\addtokomafont{subsection}{\rmfamily}
\addtokomafont{subsubsection}{\rmfamily}
\addtokomafont{paragraph}{\rmfamily}
\addtokomafont{subparagraph}{\rmfamily}
\addtokomafont{chapterentry}{\rmfamily\bfseries}



\begin{document}

% Section formatting
\setcounter{secnumdepth}{4}
% \titleformat*{\section}{\fontsize{20pt}{24pt}\selectfont \bfseries}
% \titlespacing*{\section}{0pt}{0pt}{10pt}



% Custom cover page
\input{cover_page}

\clearpage
\thispagestyle{empty} % Ẩn header/footer nếu cần

\vspace*{\fill} % Đẩy nội dung xuống giữa trang
{\centering \LARGE \textbf{LỜI CẢM ƠN} \par}
\vspace{2em}
Bài tiểu luận cuối kỳ này được hoàn thành dưới sự hướng dẫn của thầy Nguyễn Trung Hiếu. Chúng em xin bày tỏ lòng biết ơn sâu sắc tới thầy vì sự định hướng đề tài trong quá trình học tập môn học này.

Trong quá trình làm bài tiểu luận này, do kiến thức còn hạn chế nên chúng em không tránh khỏi những thiếu sót. Chúng em mong nhận được những ý kiến đóng góp của thầy và các bạn để có thể rút ra kinh nghiệm, hoàn thiện và phát triển đề tài hơn.

Chúng em xin chân thành cảm ơn!
\vspace{5cm}
\vspace*{\fill} % Đẩy phần dưới lên để căn giữa


\clearpage % ✅ tự động sang trang sau khi kết thúc Lời cảm ơn
% \vspace{-2cm}
\tableofcontents

\fancyhead{}  % Clears all page headers and footers
% \rhead{\thepage}  % Sets the right side header to show the page number
% \lhead{}  % Clears the left side page header
%\fancyfoot[positions]{footer}
\renewcommand{\footrulewidth}{0.4pt}

\pagestyle{fancy}

% Chapter 0
\input{./main_content/chapter_0}

% Chapter 1
\input{./main_content/chapter_1}

% Chapter 2
\input{./main_content/chapter_2}

% Conclusion
\input{./main_content/conclusion}

% Appendix A
% \input{./appendix/appendix_a}


\nocite{*}
\bibliographystyle{IEEEtranS}
\bibliography{ref}

\end{document}